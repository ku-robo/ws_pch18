<launch>
	<arg name="2d3d_mode" default="3d" />


	<node name="cartographer_node" pkg="cartographer_ros" type="cartographer_node" args="-configuration_directory $(find data_gather)/conf -configuration_basename cartographer_$(arg 2d3d_mode).lua" output="screen">
		<remap from="points2" to="/velodyne_points" />
		<remap from="odom" to="/odom_with_imu" />
		<remap from="imu" to="/imu" />
	</node>
	<node name="cartographer_occupancy_grid_node" pkg="cartographer_ros" type="cartographer_occupancy_grid_node" args="-resolution 0.05" />


	<node name="rviz" pkg="rviz" type="rviz" required="true" args="-d $(find data_gather)/conf/cartographer_$(arg 2d3d_mode).rviz" />

</launch>